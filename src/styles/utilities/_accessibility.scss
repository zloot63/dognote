@use "variables" as *;
@use "mixins" as *;

/* =============================
   ♿ 접근성 스타일 (A11y, Accessibility)
   - 웹 표준 및 접근성 강화를 위한 글로벌 스타일
   - WCAG 2.1 기준 반영
   ============================= */

/* ✅ 화면에서 숨기는 클래스 (스크린리더 전용) */
.sr-only {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ✅ 포커스 가능한 요소가 키보드 탐색 시 보이도록 */
.sr-only-focusable:focus {
  position: static !important;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* ✅ 링크 & 버튼에 대한 포커스 스타일 개선 */
a,
button,
[tabindex]:not([tabindex="-1"]) {
  &:focus {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  &:focus-visible {
    outline: 3px solid var(--color-focus);
    outline-offset: 4px;
  }
}

/* ✅ 기본적으로 포커스를 숨기되, 키보드 사용 시 표시 */
:focus:not(:focus-visible) {
  outline: none;
}

/* ✅ 모션을 최소화하는 사용자 설정 반영 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ✅ 글자 가독성 향상 */
html {
  text-rendering: optimizeLegibility;
  font-size: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* ✅ 링크와 버튼의 접근성 개선 */
a {
  color: var(--color-link);
  text-decoration: none;

  &:hover,
  &:focus {
    text-decoration: underline;
    color: var(--color-link-hover);
  }

  &:active {
    color: var(--color-link-active);
  }
}

button {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;

  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }
}

/* ✅ 입력 필드 기본 스타일 */
input,
textarea,
select {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  border-radius: var(--border-radius-sm);
  border: 1px solid var(--color-border);
  padding: 8px;
  transition: border-color 0.2s ease-in-out;

  &:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.3);
  }

  &:disabled {
    background: var(--color-disabled-bg);
    cursor: not-allowed;
  }
}

/* ✅ ARIA 속성 보완 */
[aria-hidden="true"] {
  display: none;
}

[aria-busy="true"] {
  cursor: progress;
}

[aria-disabled="true"] {
  pointer-events: none;
  opacity: 0.5;
}



